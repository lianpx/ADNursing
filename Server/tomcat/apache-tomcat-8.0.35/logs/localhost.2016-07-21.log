21-Jul-2016 21:37:01.052 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()
21-Jul-2016 21:37:01.052 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()
21-Jul-2016 23:10:54.649 SEVERE [http-apr-8080-exec-7] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.RegisterServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:95)
	at com.ad.service.impl.BussinessServiceImpl.register(BussinessServiceImpl.java:74)
	at com.ad.web.controller.RegisterServlet.doGet(RegisterServlet.java:41)
	at com.ad.web.controller.RegisterServlet.doPost(RegisterServlet.java:75)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:87)
	... 29 more

21-Jul-2016 23:11:01.016 SEVERE [http-apr-8080-exec-1] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.AddFavoritesServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:47)
	at com.ad.service.impl.BussinessServiceImpl.addFavoritesPost(BussinessServiceImpl.java:432)
	at com.ad.web.controller.AddFavoritesServlet.doGet(AddFavoritesServlet.java:35)
	at com.ad.web.controller.AddFavoritesServlet.doPost(AddFavoritesServlet.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:45)
	... 29 more

21-Jul-2016 23:11:25.413 SEVERE [http-apr-8080-exec-3] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [ViewUserServlet] in context with path [/ADNursingServer] threw exception
 com.ad.exception.ADException: 获取用户信息出现异常,请重试
	at com.ad.service.impl.BussinessServiceImpl.getUser(BussinessServiceImpl.java:109)
	at com.ad.web.controller.ViewUserServlet.doGet(ViewUserServlet.java:41)
	at com.ad.web.controller.ViewUserServlet.doPost(ViewUserServlet.java:57)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

21-Jul-2016 23:16:59.792 SEVERE [http-apr-8080-exec-7] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.RegisterServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:95)
	at com.ad.service.impl.BussinessServiceImpl.register(BussinessServiceImpl.java:74)
	at com.ad.web.controller.RegisterServlet.doGet(RegisterServlet.java:41)
	at com.ad.web.controller.RegisterServlet.doPost(RegisterServlet.java:75)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:87)
	... 29 more

21-Jul-2016 23:17:05.795 SEVERE [http-apr-8080-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.AddFavoritesServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:47)
	at com.ad.service.impl.BussinessServiceImpl.addFavoritesPost(BussinessServiceImpl.java:432)
	at com.ad.web.controller.AddFavoritesServlet.doGet(AddFavoritesServlet.java:35)
	at com.ad.web.controller.AddFavoritesServlet.doPost(AddFavoritesServlet.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:45)
	... 29 more

21-Jul-2016 23:17:16.292 SEVERE [http-apr-8080-exec-6] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.RegisterServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:95)
	at com.ad.service.impl.BussinessServiceImpl.register(BussinessServiceImpl.java:74)
	at com.ad.web.controller.RegisterServlet.doGet(RegisterServlet.java:41)
	at com.ad.web.controller.RegisterServlet.doPost(RegisterServlet.java:75)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:87)
	... 29 more

21-Jul-2016 23:17:19.873 SEVERE [http-apr-8080-exec-3] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.AddFavoritesServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:47)
	at com.ad.service.impl.BussinessServiceImpl.addFavoritesPost(BussinessServiceImpl.java:432)
	at com.ad.web.controller.AddFavoritesServlet.doGet(AddFavoritesServlet.java:35)
	at com.ad.web.controller.AddFavoritesServlet.doPost(AddFavoritesServlet.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:45)
	... 29 more

21-Jul-2016 23:18:01.260 SEVERE [http-apr-8080-exec-6] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.UpdateUserServlet] in context with path [/ADNursingServer] threw exception
 com.ad.exception.ADException: 获取用户信息出现异常,请重试
	at com.ad.service.impl.BussinessServiceImpl.getUser(BussinessServiceImpl.java:109)
	at com.ad.web.controller.UpdateUserServlet.updateuser(UpdateUserServlet.java:154)
	at com.ad.web.controller.UpdateUserServlet.doGet(UpdateUserServlet.java:43)
	at com.ad.web.controller.UpdateUserServlet.doPost(UpdateUserServlet.java:178)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

21-Jul-2016 23:36:11.581 SEVERE [http-apr-8080-exec-3] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.RegisterServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:95)
	at com.ad.service.impl.BussinessServiceImpl.register(BussinessServiceImpl.java:74)
	at com.ad.web.controller.RegisterServlet.doGet(RegisterServlet.java:41)
	at com.ad.web.controller.RegisterServlet.doPost(RegisterServlet.java:75)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:87)
	... 29 more

21-Jul-2016 23:36:15.540 SEVERE [http-apr-8080-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.AddFavoritesServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:47)
	at com.ad.service.impl.BussinessServiceImpl.addFavoritesPost(BussinessServiceImpl.java:432)
	at com.ad.web.controller.AddFavoritesServlet.doGet(AddFavoritesServlet.java:35)
	at com.ad.web.controller.AddFavoritesServlet.doPost(AddFavoritesServlet.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:45)
	... 29 more

21-Jul-2016 23:36:30.852 SEVERE [http-apr-8080-exec-10] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.AddFavoritesServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:47)
	at com.ad.service.impl.BussinessServiceImpl.addFavoritesPost(BussinessServiceImpl.java:432)
	at com.ad.web.controller.AddFavoritesServlet.doGet(AddFavoritesServlet.java:35)
	at com.ad.web.controller.AddFavoritesServlet.doPost(AddFavoritesServlet.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Cannot add or update a child row: a foreign key constraint fails (`adnursing`.`favorites_post`, CONSTRAINT `favorites_post_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`)) Query: insert into favorites_post (user_id,post_id) values(?,?) Parameters: [-1, 50]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.FavoritesPostDaoImpl.save(FavoritesPostDaoImpl.java:45)
	... 29 more

21-Jul-2016 23:39:20.048 SEVERE [http-apr-8080-exec-1] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.RegisterServlet] in context with path [/ADNursingServer] threw exception
 java.lang.RuntimeException: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:95)
	at com.ad.service.impl.BussinessServiceImpl.register(BussinessServiceImpl.java:74)
	at com.ad.web.controller.RegisterServlet.doGet(RegisterServlet.java:41)
	at com.ad.web.controller.RegisterServlet.doPost(RegisterServlet.java:75)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLException: Column 'username' cannot be null Query: insert into user(username,userpass,img_url,gender,address,description,tested_person,tested_birth,tested_gender) values(?,?,?,?,?,?,?,?,?) Parameters: [null, null, , , , , , , ]
	at org.apache.commons.dbutils.AbstractQueryRunner.rethrow(AbstractQueryRunner.java:320)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:489)
	at org.apache.commons.dbutils.QueryRunner.update(QueryRunner.java:455)
	at com.ad.dao.impl.UserDaoImpl.addUser(UserDaoImpl.java:87)
	... 29 more

21-Jul-2016 23:39:37.922 SEVERE [http-apr-8080-exec-13] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [com.ad.web.controller.UpdateUserServlet] in context with path [/ADNursingServer] threw exception
 com.ad.exception.ADException: 获取用户信息出现异常,请重试
	at com.ad.service.impl.BussinessServiceImpl.getUser(BussinessServiceImpl.java:109)
	at com.ad.web.controller.UpdateUserServlet.updateuser(UpdateUserServlet.java:154)
	at com.ad.web.controller.UpdateUserServlet.doGet(UpdateUserServlet.java:43)
	at com.ad.web.controller.UpdateUserServlet.doPost(UpdateUserServlet.java:178)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at com.ad.filter.SetAllCharacterEncodingFilter.doFilter(SetAllCharacterEncodingFilter.java:49)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)
	at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

